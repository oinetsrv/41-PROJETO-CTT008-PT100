var slidebars=function(){var i=$("[canvas]"),t={},e=!1,r=!1,o=["top","right","bottom","left"],s=["reveal","push","overlay"],n=function(i,e,r,o){if(t.hasOwnProperty(i))throw"Error attempting to register Slidebar, a Slidebar with ID '"+i+"' already exists."
t[i]={id:i,side:e,style:r,element:o,active:!1}},a=function(e){var r=$(),o="0px, 0px",s=1e3*parseFloat(t[e].element.css("transitionDuration"),10)
return("reveal"===t[e].style||"push"===t[e].style)&&(r=r.add(i)),("push"===t[e].style||"overlay"===t[e].style)&&(r=r.add(t[e].element)),t[e].active&&("top"===t[e].side?o="0px, "+t[e].element.css("height"):"right"===t[e].side?o="-"+t[e].element.css("width")+", 0px":"bottom"===t[e].side?o="0px, -"+t[e].element.css("height"):"left"===t[e].side&&(o=t[e].element.css("width")+", 0px")),{elements:r,amount:o,duration:s}}
this.init=function(i){if(e)throw"You have already initialized Slidebars."
r||($("[off-canvas]").each(function(){var i=$(this).attr("off-canvas").split(" ",3)
if(!i[0]||-1===o.indexOf(i[1])||-1===s.indexOf(i[2]))throw"Error attempting to register Slidebar, please specifiy a valid space separated 'id side style'."
n(i[0],i[1],i[2],$(this))}),r=!0),e=!0,this.css(),$(l).trigger("init"),"function"==typeof i&&i()},this.exit=function(i){if(!e)throw"You need to initialize Slidebars first."
var t=function(){e=!1,$(l).trigger("exit"),"function"==typeof i&&i()}
this.active("slidebar")?this.close(t):t()},this.css=function(i){if(!e)throw"You need to initialize Slidebars first."
for(var r in t)if(t.hasOwnProperty(r)){var o
o="top"===t[r].side||"bottom"===t[r].side?t[r].element.css("height"):t[r].element.css("width"),("push"===t[r].style||"overlay"===t[r].style)&&t[r].element.css("margin-"+t[r].side,"-"+o)}this.active("slidebar")&&this.open(this.active("slidebar")),$(l).trigger("css"),"function"==typeof i&&i()},this.open=function(i,r){if(!e)throw"You need to initialize Slidebars first."
if(!i)throw"Error trying to open Slidebar, you must specify an ID."
if(!t.hasOwnProperty(i))throw"Error trying to open Slidebar, there is no Slidebar with ID '"+i+"'."
var o=function(){t[i].active=!0,t[i].element.css("display","block"),$(l).trigger("opening",[t[i].id])
var e=a(i)
e.elements.css({"transition-duration":e.duration+"ms",transform:"translate("+e.amount+")"}),setTimeout(function(){$(l).trigger("opened",[t[i].id]),"function"==typeof r&&r()},e.duration)}
this.active("slidebar")&&this.active("slidebar")!==i?this.close(o):o()},this.close=function(i,r){if("function"==typeof i&&(r=i,i=null),!e)throw"You need to initialize Slidebars first."
if(i&&!t.hasOwnProperty(i))throw"Error trying to close Slidebar, there is no Slidebar with ID '"+i+"'."
if(!i)for(var o in t)if(t.hasOwnProperty(o)&&t[o].active){i=o
break}if(i&&t[i].active){t[i].active=!1,$(l).trigger("closing",[t[i].id])
var s=a(i)
s.elements.css("transform",""),setTimeout(function(){s.elements.css("transition-duration",""),t[i].element.css("display","none"),$(l).trigger("closed",[t[i].id]),"function"==typeof r&&r()},s.duration)}},this.toggle=function(i,r){if(!e)throw"You need to initialize Slidebars first."
if(!i)throw"Error trying to toggle Slidebar, you must specify an ID."
if(!t.hasOwnProperty(i))throw"Error trying to toggle Slidebar, there is no Slidebar with ID '"+i+"'."
t[i].active?this.close(i,function(){"function"==typeof r&&r()}):this.open(i,function(){"function"==typeof r&&r()})},this.active=function(i,r){"function"==typeof i&&(r=i,i=null)
var o=!1
if(i)if("slidebar"===i){if(!e)throw"You need to initialize Slidebars first."
for(var s in t)if(t.hasOwnProperty(s)&&t[s].active){o=t[s].id
break}}else{if(!e)throw"You need to initialize Slidebars first."
if(!t.hasOwnProperty(i))throw"Error retrieving state of Slidebar, there is no Slidebar with ID '"+i+"'."
o=t[i].active}else o=e
return"function"==typeof r&&r(),o},this.create=function(i,r,a,d,f){if("function"==typeof d&&(f=d,d=null),!e)throw"You need to initialize Slidebars first."
if(!i||-1===o.indexOf(r)||-1===s.indexOf(a))throw"Error attempting to create Slidebar, please specifiy a valid space separated 'id side style'."
if(t.hasOwnProperty(i))throw"Error attempting to create Slidebar, a Slidebar with ID '"+i+"' already exists."
$('<div id="'+i+'" off-canvas="'+i+" "+r+" "+a+'"></div>').appendTo("body"),d&&$("#"+i).html(d),n(i,r,a,$("#"+i)),this.css(),$(l).trigger("created",[t[i].id]),"function"==typeof f&&f()},this.destroy=function(i,r){if(!e)throw"You need to initialize Slidebars first."
if(!i)throw"Error trying to destroy Slidebar, you must specify an ID."
if(!t.hasOwnProperty(i))throw"Error trying to destroy Slidebar, there is no Slidebar with ID '"+i+"'."
var o=function(){$(l).trigger("destroyed",[t[i].id]),t[i].element.remove(),delete t[i],"function"==typeof r&&r()}
t[i].active?this.close(i,o):o()},this.events={}
var l=this.events
window.onresize=this.css.bind(this)}
